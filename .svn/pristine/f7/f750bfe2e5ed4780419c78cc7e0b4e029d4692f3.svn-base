C51 COMPILER V9.52.0.0   PWM                                                               11/10/2017 12:07:39 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE PWM
OBJECT MODULE PLACED IN .\Objects\PWM.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE USER\PWM\PWM.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(..\project;.\USER\B
                    -UZZER;.\USER\charge;.\USER\common;.\USER\DC_MOTOR;.\USER\EEPROM;.\USER\EXINT;.\USER\IIC;.\USER\inc;.\USER\ION;.\USER\M26
                    -;.\USER\PWM;.\USER\Sensor;.\USER\step_motor;.\USER\SYS_RUN;.\USER\timer;.\USER\TM1620;.\USER\touch_key;.\USER\UART;.\USE
                    -R\UV;.\USER\LVI) DEBUG OBJECTEXTEND PRINT(.\Listings\PWM.lst) TABS(2) OBJECT(.\Objects\PWM.obj)

line level    source

   1          #include "OB39R32T1.h"
   2          #include "PWM.h"
   3          #include "intrins.h"
   4          
   5          
   6          
   7          
   8          //=============================================================================================
   9          //
  10          //=============================================================================================
  11          void PWM_Init(void)
  12          {
  13   1          _push_(PAGESEL);
*** ERROR C202 IN LINE 13 OF USER\PWM\PWM.c: 'PAGESEL': undefined identifier
  14   1          PAGESEL     = PAGE_1;
*** ERROR C202 IN LINE 14 OF USER\PWM\PWM.c: 'PAGESEL': undefined identifier
  15   1          //PWMEN       = (PWM7 | PWM6 | PWM5 | PWM4 );
  16   1          PWMEN       &= ~(PWM7 | PWM6 | PWM5 | PWM4 );
*** ERROR C202 IN LINE 16 OF USER\PWM\PWM.c: 'PWMEN': undefined identifier
  17   1          //PWMEN       = (PWM7);
  18   1          PWMTBC0     = (PWMTB_PRESCALE );
*** ERROR C202 IN LINE 18 OF USER\PWM\PWM.c: 'PWMTBC0': undefined identifier
  19   1          PWMOPMOD    = (PWMOP3MOD | PWMOP2MOD);
*** ERROR C202 IN LINE 19 OF USER\PWM\PWM.c: 'PWMOPMOD': undefined identifier
  20   1          //PWMPOLARITY = (POLARITY7 | POLARITY6 | POLARITY5 | POLARITY4);
  21   1          PERIODH     = PWM_PERIOD / 256 ;
*** ERROR C202 IN LINE 21 OF USER\PWM\PWM.c: 'PERIODH': undefined identifier
  22   1          PERIODL     = PWM_PERIOD % 256 ;
*** ERROR C202 IN LINE 22 OF USER\PWM\PWM.c: 'PERIODL': undefined identifier
  23   1          PWMTBC1     = (0x90 | PWM_INTERRUPT);
*** ERROR C202 IN LINE 23 OF USER\PWM\PWM.c: 'PWMTBC1': undefined identifier
  24   1          DUTY2L  = 0;
*** ERROR C202 IN LINE 24 OF USER\PWM\PWM.c: 'DUTY2L': undefined identifier
  25   1          DUTY2H  = 0;
*** ERROR C202 IN LINE 25 OF USER\PWM\PWM.c: 'DUTY2H': undefined identifier
  26   1          DUTY3L  = 0;
*** ERROR C202 IN LINE 26 OF USER\PWM\PWM.c: 'DUTY3L': undefined identifier
  27   1          DUTY3H  = 0;
*** ERROR C202 IN LINE 27 OF USER\PWM\PWM.c: 'DUTY3H': undefined identifier
  28   1          _pop_(PAGESEL);
*** ERROR C202 IN LINE 28 OF USER\PWM\PWM.c: 'PAGESEL': undefined identifier
  29   1      }
  30          
  31          void PWM_Control(unsigned char pwm_num,unsigned char on_off)
  32          {
  33   1          _push_(PAGESEL);
*** ERROR C202 IN LINE 33 OF USER\PWM\PWM.c: 'PAGESEL': undefined identifier
  34   1          PAGESEL     = PAGE_1;
*** ERROR C202 IN LINE 34 OF USER\PWM\PWM.c: 'PAGESEL': undefined identifier
  35   1        
  36   1          if(on_off == PWM_OFF)
  37   1          {
C51 COMPILER V9.52.0.0   PWM                                                               11/10/2017 12:07:39 PAGE 2   

  38   2              PWMEN &= ~(1 << pwm_num);
*** ERROR C202 IN LINE 38 OF USER\PWM\PWM.c: 'PWMEN': undefined identifier
  39   2          }
  40   1          else if(on_off == PWM_ON)
  41   1          {
  42   2              PWMEN |= (1 << pwm_num);
*** ERROR C202 IN LINE 42 OF USER\PWM\PWM.c: 'PWMEN': undefined identifier
  43   2          }
  44   1          
  45   1          _pop_(PAGESEL);
*** ERROR C202 IN LINE 45 OF USER\PWM\PWM.c: 'PAGESEL': undefined identifier
  46   1      
  47   1      }
  48          
  49          void PWM_Set_Duty(unsigned char pwm_num,unsigned int duty)
  50          {
  51   1          if(duty > PWM_MAX_DUTY)
  52   1          {
  53   2              return;
  54   2          }
  55   1          _push_(PAGESEL);
*** ERROR C202 IN LINE 55 OF USER\PWM\PWM.c: 'PAGESEL': undefined identifier
  56   1          PAGESEL = PAGE_1;
*** ERROR C202 IN LINE 56 OF USER\PWM\PWM.c: 'PAGESEL': undefined identifier
  57   1          switch(pwm_num)
  58   1          {
  59   2            case PWM4_NUM:
  60   2            case PWM5_NUM:
  61   2                DUTY2L  = duty % 256;
*** ERROR C202 IN LINE 61 OF USER\PWM\PWM.c: 'DUTY2L': undefined identifier
  62   2                DUTY2H  = duty / 256;
*** ERROR C202 IN LINE 62 OF USER\PWM\PWM.c: 'DUTY2H': undefined identifier
  63   2                break;
  64   2            case PWM6_NUM:
  65   2            case PWM7_NUM:
  66   2                DUTY3L  = duty % 256;
*** ERROR C202 IN LINE 66 OF USER\PWM\PWM.c: 'DUTY3L': undefined identifier
  67   2                DUTY3H  = duty / 256;
*** ERROR C202 IN LINE 67 OF USER\PWM\PWM.c: 'DUTY3H': undefined identifier
  68   2                break;  
  69   2            default:
  70   2                break;        
  71   2          }
  72   1          _pop_(PAGESEL);
*** ERROR C202 IN LINE 72 OF USER\PWM\PWM.c: 'PAGESEL': undefined identifier
  73   1      }
  74          
  75          
  76          
  77          //=============================================================================================
  78          //
  79          //=============================================================================================
  80          void PWM_ISR(void) interrupt d_PWM_Vector
  81          {
  82   1          _push_(PAGESEL);
*** ERROR C202 IN LINE 82 OF USER\PWM\PWM.c: 'PAGESEL': undefined identifier
  83   1          PAGESEL  = PAGE_1;
*** ERROR C202 IN LINE 83 OF USER\PWM\PWM.c: 'PAGESEL': undefined identifier
  84   1          PWMINTF &= 0xFE;
*** ERROR C202 IN LINE 84 OF USER\PWM\PWM.c: 'PWMINTF': undefined identifier
  85   1          _pop_(PAGESEL);
*** ERROR C202 IN LINE 85 OF USER\PWM\PWM.c: 'PAGESEL': undefined identifier
C51 COMPILER V9.52.0.0   PWM                                                               11/10/2017 12:07:39 PAGE 3   

  86   1      }

C51 COMPILATION COMPLETE.  0 WARNING(S),  29 ERROR(S)
